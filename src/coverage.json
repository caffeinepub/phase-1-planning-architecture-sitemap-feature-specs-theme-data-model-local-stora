{
  "kind": "coverage_report",
  "version": "1.0",
  "generatedAt": "2026-02-11T00:15:39.705Z",
  "sources": {
    "buildRequest": true,
    "implementationPlan": true
  },
  "requirements": {
    "total": 8,
    "implemented": 3,
    "items": [
      {
        "id": "REQ-1",
        "summary": "Implement canister-backed persistence and APIs for customer Requests, including: create a request with optional media attachments, list requests for admins, and fetch a single request with its attachments and status.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-2",
        "summary": "Add request moderation actions for admins: approve and decline requests, each producing an immutable action record stored on the Request (including actor principal, action type, optional note, and a timestamp).",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-3",
        "summary": "Implement a customer inbox in the backend that supports (a) admin-to-customer messages, and (b) admin-to-customer coupon deliveries; both must be retrievable by the customer and scoped to the customer principal.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-4",
        "summary": "Support attachments up to 800 MB for admin-to-customer messaging (file attachments on messages), storing the attachment content using the existing blob storage mixin and linking the blob reference from the inbox item.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/admin/MessageAttachmentPicker.tsx",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/pages/Inbox.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/admin/MessageAttachmentPicker.tsx",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/pages/Inbox.tsx"
        ]
      },
      {
        "id": "REQ-5",
        "summary": "Implement request-to-order conversion: allow admins to convert an approved Request into an Order, linking the created Order to the originating Request and preventing conversion unless the Request is approved.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-6",
        "summary": "Upgrade the Admin Dashboard Requests tab to (a) actually load requests from the backend, (b) show a request detail view with attachment previews/links, (c) allow approve/decline, (d) allow sending a message and/or coupon to the requestâ€™s submitter, and (e) allow converting an approved request into an order.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/components/admin/AdminRequestsTab.tsx",
          "frontend/src/components/admin/AdminRequestDetailModal.tsx",
          "frontend/src/backend.d.ts"
        ],
        "matchedFiles": [
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/components/admin/AdminRequestsTab.tsx",
          "frontend/src/components/admin/AdminRequestDetailModal.tsx",
          "frontend/src/backend.d.ts"
        ]
      },
      {
        "id": "REQ-7",
        "summary": "Add a customer-facing Inbox UI (accessible to authenticated users) that lists received messages and coupons and includes a manual Refresh control to fetch new items.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/pages/Inbox.tsx",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/App.tsx",
          "frontend/src/components/layout/HeaderNav.tsx"
        ],
        "matchedFiles": [
          "frontend/src/pages/Inbox.tsx",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/App.tsx",
          "frontend/src/components/layout/HeaderNav.tsx"
        ]
      },
      {
        "id": "REQ-8",
        "summary": "Ensure authorization and future multi-admin support: all admin-only operations (list all requests, request moderation, sending inbox items, converting requests to orders) must be guarded by the existing admin/owner role system and work for any principal in the admin registry (not only the owner).",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      }
    ]
  },
  "changedFiles": [
    "backend/main.mo",
    "backend/migration.mo",
    "build-request.json",
    "feature_evidence.json",
    "frontend-file-summaries.txt",
    "frontend-implementation-plan.json",
    "frontend/src/App.tsx",
    "frontend/src/backend.d.ts",
    "frontend/src/backend.ts",
    "frontend/src/components/admin/AdminRequestDetailModal.tsx",
    "frontend/src/components/admin/AdminRequestsTab.tsx",
    "frontend/src/components/admin/MessageAttachmentPicker.tsx",
    "frontend/src/components/adminplus/AdvancedShopControlsSection.tsx",
    "frontend/src/components/layout/HeaderNav.tsx",
    "frontend/src/components/shop/ProductDetailsModal.tsx",
    "frontend/src/components/shop/ProductFlipCard.tsx",
    "frontend/src/components/shop/useShopFilters.ts",
    "frontend/src/declarations/backend.did.d.ts",
    "frontend/src/declarations/backend.did.js",
    "frontend/src/hooks/useQueries.ts",
    "frontend/src/pages/Inbox.tsx",
    "frontend/src/pages/Shop.tsx",
    "frontend/src/types/common.ts",
    "frontend/src/types/phase5b.ts",
    "project_state.json",
    "scratch/component-selection.json",
    "spec.md",
    "spec_vs_diff_report.json"
  ]
}